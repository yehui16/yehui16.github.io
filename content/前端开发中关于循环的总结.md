## [返回首页](../README.md)

**前端开发中关于循环的总结**

废话不多说，先上表格对比。  

| 方法 | 可遍历对象 | ES | index OR key的类型 | 自定义属性 | 原型链上的自定义属性 
|--|--|--|--|--|--|
| for | 数组、字符串 | - | number | 不可遍历 | 不可遍历
| for in | 数组、字符串、对象 | ES5 | string | 可遍历 | 可遍历
| for of | 数组、字符串 | ES6 | - | 不可遍历 | 不可遍历
| forEach | 数组 | ES5 | number | 不可遍历 | 不可遍历
| map | 数组 | ES6 | number | 不可遍历 | 不可遍历

- ### for循环

    for的基本用法如下：

    ```js
    for (语句 1; 语句 2; 语句 3) {
        //要执行的代码块
    }
    ```

    1. 语句 1 在循环（代码块）开始之前执行。  
    2. 语句 2 定义运行循环（代码块）的条件。  
    3. 语句 3 会在循环（代码块）每次被执行后执行。  

    >注：使用时，不要把长度获取写在语句中，先缓存循环的长度，这样避免每次循环都会去计算循环对象的长度

- ### for…in循环

    ```js
    var obj = {a: 1, b: 2, c: 3};
    for (var i in obj) {
        console.log('键名：', i);
        console.log('键值：', obj[i]);
    }
    ```

    >输出：键名:a 键值:1， 键名:b 键值:2  

    **for in遍历数组的毛病:**
    1. 根据属性名遍历，所以key的类型是string；
    2. 遍历顺序有可能不是按照实际数组的内部顺序；
    3. 使用for in会遍历数组所有的可枚举属性，包括原型上属性。可以使用hasOwnProperty判断一个属性是不是对象自身上的属性。
    obj.hasOwnProperty(keys)==true 表示这个属性是对象的成员属性，而不是原型属性。  
    因此，for in更适合遍历对象，不要使用for in遍历数组。  

    ```js
    for (const key in arr) {
        if (arr.hasOwnProperty(key)) { // 这样就可以过滤掉原型链上的可枚举属性了
            console.log(key, arr[key]);
        }
    }
    ```
